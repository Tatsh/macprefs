.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "MACPREFS" "1" "May 05, 2025" "0.4.0" "macprefs"
.SH NAME
macprefs \- macprefs v0.4.0
.sp
Command and library to export macOS preferences.
.SH USAGE
.sp
\fBprefs\-export\fP is the main utility. You can export preferences, generate a
\X'tty: link https://github.com/mathiasbynens/dotfiles/blob/main/.macos'\fI\%~/.macos\fP\X'tty: link'\-like script, and store the
results in a Git repository.
.sp
My primary usage is like so:
.INDENT 0.0
.INDENT 3.5
.sp
.EX
prefs\-export \-\-output\-directory ~/.config/defaults \-\-commit
.EE
.UNINDENT
.UNINDENT
.SH COMMANDS
.SS prefs\-export
.sp
Export preferences.
.INDENT 0.0
.INDENT 3.5
.sp
.EX
prefs\-export [OPTIONS]
.EE
.UNINDENT
.UNINDENT
.sp
Options
.INDENT 0.0
.TP
.B \-C, \-\-config <config_file>
Path to the configuration file.
.UNINDENT
.INDENT 0.0
.TP
.B \-K, \-\-deploy\-key <deploy_key>
Key for pushing to Git repository.
.UNINDENT
.INDENT 0.0
.TP
.B \-c, \-\-commit
Commit the changes with Git.
.UNINDENT
.INDENT 0.0
.TP
.B \-d, \-\-debug
Enable debug logging.
.UNINDENT
.INDENT 0.0
.TP
.B \-o, \-\-output\-directory <output_directory>
Where to store the exported data.
.UNINDENT
.SS macprefs\-install\-job
.sp
Job installer.
.INDENT 0.0
.INDENT 3.5
.sp
.EX
macprefs\-install\-job [OPTIONS]
.EE
.UNINDENT
.UNINDENT
.sp
Options
.INDENT 0.0
.TP
.B \-C, \-\-config <config_file>
Path to the configuration file.
.UNINDENT
.INDENT 0.0
.TP
.B \-K, \-\-deploy\-key <deploy_key>
Key for pushing to Git repository.
.UNINDENT
.INDENT 0.0
.TP
.B \-d, \-\-debug
Enable debug logging.
.UNINDENT
.INDENT 0.0
.TP
.B \-o, \-\-output\-directory <output_directory>
Where to store the exported data.
.UNINDENT
.SH ABOUT THE GENERATED SHELL SCRIPT
.sp
A shell script named \fBexec\-defaults.sh\fP will exist in the output directory. It may be executed,
but is primarily for copying \fBdefaults\fP commands for use in your actual \fB~/.macos\fP file.
.SH FILTERED DOMAINS AND KEYS
.sp
Certain domains are filtered because they generally do not have anything useful to preserve, such
as \fBcom.apple.EmojiCache\fP which only has a cache of Emoji usage data.
.sp
Some keys are filtered, as they contain values that often change and are non\-useful, such as
session IDs and UI state (e.g. \fBQtUi.MainWin(Geometry|State|Pos|Size)\(ga,
\(gaNSStatusItem Preferred Position\fP).
.SH AUTOMATED USAGE
.sp
A command \fBmacprefs\-install\-job\fP is included which will install a daily launchd job. The job name
is \fBsh.tat.macprefs\fP\&.
.INDENT 0.0
.INDENT 3.5
.sp
.EX
Usage: macprefs\-install\-job [OPTIONS]

  Job installer.

Options:
  \-K, \-\-deploy\-key FILE           Key for pushing to Git repository.
  \-o, \-\-output\-directory DIRECTORY
                                  Where to store the exported data.
  \-\-help                          Show this message and exit.
.EE
.UNINDENT
.UNINDENT
.sp
If the output directory has a \fB\&.git\fP directory, a commit will be automatically made. Be aware that
files will be added and removed automatically.
.sp
To stop this job permanently, run
\fBlaunchctl unload \-w ~/Library/LaunchAgents/sh.tat.macprefs.plist\fP\&.
.sp
To uninstall this job, after stopping permanently, delete
\fB~/Library/LaunchAgents/sh.tat.macprefs.plist\fP\&.
.SH AUTHOR
Andrew Udvare <audvare@gmail.com>
.SH COPYRIGHT
2025
.\" Generated by docutils manpage writer.
.
